[custom]
; ===================================================
; 1. è§„åˆ™é›†é…ç½® (å·²ä¼˜åŒ–é€»è¾‘é¡ºåº)
; ===================================================

; --- 01. å¼ºåˆ¶å›½å†…ç›´è¿ (IPv6 & å±€åŸŸç½‘) ---
; ä¼˜å…ˆå¤„ç†å›½å†… IPv6ï¼Œé˜²æ­¢è¢«åç»­è§„åˆ™è¯¯ä¼¤
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs_IPv6.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleCN/GoogleCN.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.list

; --- 02. å¹¿å‘Šä¸éšç§ (å»ºè®®æ”¾å‰æ’) ---
ruleset=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.list
ruleset=ğŸƒ åº”ç”¨å‡€åŒ–,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy.list

; --- 03. å…³é”®åº”ç”¨åˆ†æµ ---
ruleset=ğŸ¤– AI,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GenerativeAI/GenerativeAI.list
ruleset=ğŸ“¹ YouTube,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list
ruleset=ğŸ€ Google,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.list
ruleset=ğŸ¬ OneDrive,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive.list
ruleset=ğŸªŸ Microsoft,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list
ruleset=ğŸ Apple,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.list
ruleset=ğŸ“² Telegram,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list
ruleset=ğŸ¥ Netflix,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list
ruleset=ğŸµ Spotify,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.list
ruleset=ğŸµ TikTok,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.list
ruleset=ğŸ¥ Emby,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Emby/Emby.list

; --- 04. åª’ä½“åˆ†æµ ---
ruleset=ğŸï¸ å›½å†…åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.list
ruleset=ğŸŒ å›½å¤–åª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.list

; --- 05. åœ°åŒºè§„åˆ™ (GEOIP/GEOSITE) ---
ruleset=ğŸ¯ å…¨çƒç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.list
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOSITE,CN
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]GEOSITE,gfw
ruleset=ğŸš€ èŠ‚ç‚¹é€‰æ‹©,[]GEOSITE,geolocation-!cn
ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOIP,CN

; --- [é€»è¾‘è°ƒæ•´] IPv6 è§„åˆ™ ---
; âŒ å»ºè®®æ³¨é‡Šæ‰ä¸‹é¢è¿™è¡Œã€‚
; åŸå› ï¼šè¿™ä¼šå¼ºåˆ¶æ‰€æœ‰å‰©ä½™ IPv6 æµé‡ï¼ˆå³ä½¿æ˜¯æœªçŸ¥çš„å›½å¤–ç½‘ç«™ï¼‰éƒ½èµ°â€œæµ‹è¯•ç»„â€ï¼Œå¯¼è‡´ä½ æ— æ³•åˆ©ç”¨è§„åˆ™åˆ†æµã€‚
; å¼€å¯å®ƒçš„å”¯ä¸€åœºæ™¯ï¼šä½ åªæƒ³ç”¨æ”¯æŒ IPv6 çš„èŠ‚ç‚¹ä¸Šç½‘ï¼Œä¸”ä¸åœ¨ä¹åˆ†æµé€»è¾‘ã€‚
; ruleset=ğŸ›¡ï¸ IPv6 æµ‹è¯•,[]IP-CIDR6,::/0

; --- 06. å…œåº• ---
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL


; ===================================================
; 2. ç­–ç•¥ç»„ä¼˜åŒ– (å¢åŠ é—´éš”ï¼Œä¿®æ­£è¯­æ³•)
; ===================================================

; [ä¼˜åŒ–] é—´éš”æ”¹åˆ° 1200s (20åˆ†é’Ÿ)ï¼Œå®¹å·® 50msã€‚é˜²æ­¢é¢‘ç¹åˆ‡èŠ‚ç‚¹ã€‚
custom_proxy_group=â™»ï¸ è‡ªåŠ¨é€‰æ‹©`url-test`.*`http://www.google.com/generate_204`1200`50

; ä¸»å…¥å£
custom_proxy_group=ğŸš€ èŠ‚ç‚¹é€‰æ‹©`select`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT

; [IPv6 æµ‹è¯•ç»„] ä¿ç•™æ­¤ç»„ç”¨äºæ‰‹åŠ¨è§‚å¯Ÿå“ªäº›èŠ‚ç‚¹æ”¯æŒ IPv6ï¼Œéå¸¸å¥½ç”¨
custom_proxy_group=ğŸ›¡ï¸ IPv6 æµ‹è¯•`select`.*`http://ipv6.google.com/generate_204`300

; --- åº”ç”¨åˆ†ç»„ (é€»è¾‘æœªå˜) ---
custom_proxy_group=ğŸ¤– AI`select`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ¥ Netflix`select`[]ğŸ¥ å¥ˆé£èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ€ Google`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ“¹ YouTube`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ¬ OneDrive`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
custom_proxy_group=ğŸªŸ Microsoft`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
custom_proxy_group=ğŸ Apple`select`[]ğŸ¯ å…¨çƒç›´è¿`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]DIRECT
custom_proxy_group=ğŸ“² Telegram`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸµ Spotify`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸµ TikTok`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ¥ Emby`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸŒ å›½å¤–åª’ä½“`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸï¸ å›½å†…åª’ä½“`select`[]DIRECT`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ¯ å…¨çƒç›´è¿`select`[]DIRECT`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢
custom_proxy_group=ğŸ›‘ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸƒ åº”ç”¨å‡€åŒ–`select`[]REJECT`[]DIRECT
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸš€ èŠ‚ç‚¹é€‰æ‹©`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸŒ å…¶ä»–åœ°åŒº`[]ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT

; --- åœ°åŒºç­›é€‰ (æ­£åˆ™ä¿ç•™) ---
custom_proxy_group=ğŸ¸ æ‰‹åŠ¨åˆ‡æ¢`select`.*
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`select`(?=.*(é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong))^((?!(æ·±æ¸¯|US|å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x)).)*$
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`select`(?=.*(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x)).)*$
custom_proxy_group=ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹`select`(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(å®¶å®½|æ¸¸æˆ|å‰©ä½™|æµé‡|2.0|2å€|2x|3.0|3å€|3x|4.0|4å€|4x)).)*$
custom_proxy_group=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`select`(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)
custom_proxy_group=ğŸŒ å…¶ä»–åœ°åŒº`select`(^(?!.*(é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)).*)
custom_proxy_group=ğŸ¥ å¥ˆé£èŠ‚ç‚¹`select`(NF|å¥ˆé£|è§£é”|Netflix|NETFLIX|Media)

enable_rule_generator=true
overwrite_original_rules=true
